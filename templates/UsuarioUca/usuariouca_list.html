{% load user_nif_filter %}
<!doctype html>

<html lang="es">
<head>
    <title>Usuarios UCA</title>

    <!-- Movil y teclado -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="../../static/css/footer.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">

    <!-- Requisitos para bootstrap 4 y js  -->
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
          integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
          crossorigin="anonymous"/>
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
    </script>
    <script type="text/javascript"
            src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous">
    </script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous">
    </script>
    <script type="text/javascript"
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous">
    </script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js">
    </script>

    <!-- For DataTable -->
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.css"/>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.js">
    </script>
</head>

<body>
<style>
    .buttons {
        width: 100%;
        text-align: end;
        margin-bottom: 10px;
    }
</style>
<!-- header  -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <!-- Brand -->
    <a class="navbar-brand" href="#">Logo</a>

    <!-- Links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="#">Inicio</a>
        </li>

        <!-- Dropdown -->
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                Votaciones
            </a>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="#">
                    Lista de votaciones
                </a>
                <a class="dropdown-item" href="#">
                    Votaciones finalizadas
                </a>
                <a class="dropdown-item" href="#">
                    Crear Votación
                </a>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="#">
                Ayuda
            </a>
        </li>

        <li class="nav-item navbar-item-right">
            <a class="nav-link float-right" href="#">
                Ayuda
            </a>
        </li>
    </ul>
</nav>
<!-- Fin header  -->

<div class="container">
    <!-- Cabecera -->
    <br/>
    <div class="row justify-content-center">
        <div class="page-header">
            <h1>Usuarios</h1>
        </div>
    </div>
</div>
 <div class="buttons">
            <button type="button" class="btn btn-primary"><a style="color: white; text-decoration: none !important;" href="{% url 'usuariouca_import' %}">Importar Usuarios</a></button>
            <button type="button" class="btn btn-secondary"><a style="color: white; text-decoration: none !important;" href="{% url 'usuariouca_export' %}">Exportar Usuarios</a></button>
 </div>
{#<ul>#}
{#    {% for user in object_list %}#}
{#        <li>{{ user.first_name }} - {{ user.last_name }}</li>#}
{#    {% empty %}#}
{#        <li>No hay usuario en el sistema.</li>#}
{#    {% endfor %}#}
{#</ul>#}

<table id="dtUsuarios" class="table table-striped table-bordered table-sm text-center" cellspacing="0" width="100%">
    <thead>
    <tr>
        <th class="th-sm">Nombre y Apellidos</th>
        <th class="th-sm">Nif</th>
        <th class="th-sm">Email</th>
        <th class="th-sm">Rol</th>
        <th class="th-sm">Modificar</th>
        <th class="th-sm">Eliminar</th>
    </tr>
    </thead>
    <tbody>
    {#    {% for user in object_list %}#}
    {#        <li>{{ user.first_name }} - {{ user.last_name }}</li>#}
    {#    {% empty %}#}
    {#        <li>No hay usuario en el sistema.</li>#}
    {#    {% endfor %}#}
    {% for user in object_list %}

        <tr>
            <td>{{ user.first_name }} {{ user.last_name }}</td>
            <td>{{ user.nif|user_nif_filter }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.is_superuser }}</td>
            <td>
                <a href="" class="btn btn-warning">
                    <i class="fas fa-edit"></i>
                </a>
            </td>
            <td>
                <a href="" class="btn btn-danger">
                    <i class="fas fa-trash"></i>
                </a>
            </td>
            {#        {% empty %}#}
            {#            <li>No hay usuario en el sistema.</li>#}
        </tr>
    {% endfor %}

    </tbody>
    <tfoot>
    <tr>
        <th>Nombre y Apellidos</th>
        <th>Nif</th>
        <th>Email</th>
        <th>Rol</th>
        <th class="th-sm">Modificar</th>
        <th class="th-sm">Eliminar</th>
    </tr>
    </tfoot>
</table>

<script type="text/javascript">
    $(document).ready(function () {
        $('#dtUsuarios').DataTable();
        $('.dataTables_length').addClass('bs-select');
    });
</script>

<!-- Footer  -->
<footer class="footer-area footer--light">
    <div class="footer-big">
        <!-- start .container -->
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-12">
                    <div class="footer-widget">
                        <div class="widget-about">
                            <img src="http://www.coglobal.es/wp-content/uploads/2017/03/sponsor-uca.png" alt=""
                                 class="img-fluid">
                            <p>
                                Web de votaciones para la UCA
                            </p>
                            <ul class="contact-details">
                                <li>
                                    <span class="icon-envelope-open"></span>
                                    <a href="mailto:#">email de contacto</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- Ends: .footer-widget -->
                </div>
                <!-- end /.col-md-4 -->
                <div class="col-md-3 col-sm-4">
                    <div class="footer-widget">
                        <div class="footer-menu footer-menu--1">
                            <h4 class="footer-widget-title">Páginas de Interes</h4>
                            <ul>
                                <li>
                                    <a href="https://www.uca.es/">UCA</a>
                                </li>
                                <li>
                                    <a href="https://github.com/joaquinpco/Votaciones-Pinf-19">GitHub</a>
                                </li>
                                <li>
                                    <a href="https://pinfvot.herokuapp.com/">Heroku</a>
                                </li>
                            </ul>
                        </div>
                        <!-- end /.footer-menu -->
                    </div>
                    <!-- Ends: .footer-widget -->
                </div>
                <!-- end /.col-md-3 -->

                <div class="col-md-3 col-sm-4">
                    <div class="footer-widget">
                        <div class="footer-menu">
                            <h4 class="footer-widget-title">La compañia</h4>
                            <ul>
                                <li>
                                    <a href="#">Sobre nosotros</a>
                                </li>
                                <li>
                                    <a href="#">Contactanos</a>
                                </li>
                            </ul>
                        </div>
                        <!-- end /.footer-menu -->
                    </div>
                    <!-- Ends: .footer-widget -->
                </div>
                <!-- end /.col-lg-3 -->

                <div class="col-md-3 col-sm-4">
                    <div class="footer-widget">
                        <div class="footer-menu no-padding">
                            <h4 class="footer-widget-title">Soporte</h4>
                            <ul>
                                <li>
                                    <a href="#">Guia Rápida</a>
                                </li>
                                <li>
                                    <a href="#">Foro de Ayuda</a>
                                </li>
                                <!-- repetir estructura li para añadir mas-->
                            </ul>
                        </div>
                        <!-- end /.footer-menu -->
                    </div>
                    <!-- Ends: .footer-widget -->
                </div>
                <!-- Ends: .col-lg-3 -->
            </div>
            <!-- end /.row -->
        </div>
        <!-- end /.container -->
    </div>
    <!-- end /.footer-big -->

    <div class="mini-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="copyright-text">
                        <p>© 2019
                            <a href="#">Send UCA</a>. All rights reserved.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- Fin Footer  -->
</body>
</html>